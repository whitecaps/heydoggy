

<div class="event-display">
	<div class="container">
		<div class="row">
			<div id="map-outer" class="col-md-12">
			<div id="event-details" class="col-md-6">

<article>
		<header>
			<h2> <%= @event.name %> </h2>
		</header>
		<strong><%= @event.description%></strong>
		<br>
		<br>
		<table width = 100%, cellpadding="15">
			<tr>
				<th> Organized by: </th>
				<% if current_user %>
					<td> <%= link_to @event.created_by, creator(@event.created_by) %> </td>
				<% else %>
					<td> <%= @event.created_by %>
				<% end %>
			</tr>
			<tr>
				<th> Where: </th>
				<td> <%= @event.location %> </td>
			</tr>
			<tr>
				<th> When: </th>
				<td> <%= @event.starts_at %> - <%= @event.ends_at %> </td>
			</tr>
			<tr>
				<th> Who's playing: </th>
				<td>
					<%= display_registrees(@event) %>
				</td>
			</tr>
			
		</table>
		<br>


		<% if !already_registered?(@event) %>

			<div class="btn btn-success">	
				<%= link_to "Register Now!", new_event_registration_path(@event), {:style=>'color:#FFFFFF;', :class => "css_class"} %>
			</div>
			<br>
			<br>
		<% else %>
			<p>You're already registered!</p>
			<%= link_to "Unregister", [@event, @event.registrations.find_by(user_id: current_user.id)], method: :delete, data: {confirm: 'Are you sure you want to unregister?'} %>

		<% end %>


		<footer>
			<nav>
				<%= link_to "See All Events", events_path, 'data-no-turbolink' => true %>
				<% if current_user_admin_or_creator?(@event.created_by) %> 
					| <%= link_to "Edit Event", edit_event_path(@event) %> |
					<%= link_to 'Delete', @event, method: :delete, data: { confirm: 'Are you sure?' } %>
				<% end %>
			</nav>
		</footer>
</article>


		</div>
			<div id="map-container" class="col-md-6">
				<div id="map-canvas"></div>
			<div>

			</div>
		</div>
	</div>
</div>

<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="http://cdnjs.cloudflare.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="http://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.0.2/js/bootstrap.min.js"></script>
    <script src="http://maps.google.com/maps/api/js?sensor=false"></script>
    <script>  
      function init_map() {
    var myLocation = new google.maps.LatLng(49.2496600,-123.1193400);
      
        var mapOptions = {
          center: myLocation,
          zoom: 11
        };
    
    var marker = new google.maps.Marker({
      position: myLocation,
      title:"Peggy Guggenheim Collection"});
      
        var map = new google.maps.Map(document.getElementById("map-container"),
            mapOptions);
    
    marker.setMap(map); 

      }

      google.maps.event.addDomListener(window, 'load', init_map);

    </script>